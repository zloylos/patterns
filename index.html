<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
Luke Mahé <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
-->
<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="all" href="theme/css/yndx.css">	
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">
<slides class="layout-widescreen">

<slide class="logoslide nobackground">
  <article class="flexbox vcenter">
    <span><img src="images/yandex_eng_logo.svg"></span>
    <footer class="source">Техновстречи Яндекс.Карт</footer>
  </article>
</slide>

<slide class="title-slide segue nobackground">
  <aside class="gdbar"><img src="images/yandex_eng_logo.svg"></aside>
  <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
  <hgroup class="auto-fadein">
    <h1 data-config-title><!-- populated from slide_config.json --></h1>
    <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
    <p data-config-presenter><!-- populated from slide_config.json --></p>
  </hgroup>
</slide>


<!-- start presentation slides -->
<!--   slide>hgroup+article -->

<slide>
  <hgroup>
  <<h></h>2>Что такое паттерн проектирования?</h2>
  </hgroup>
  <article>
    <blockquote class="centered" style="margin-top: 4em;">
      <p>Повторимая архитектурная конструкция, представляющая собой решение проблемы проектирования в рамках некоторого часто возникающего контекста.</p>
    </blockquote>
    <footer class="source">© Вики (ru.wikipedia.org/wiki/Шаблон_проектирования)</footer>
  </article>
</slide>

<slide class="fill nobackground" style="background: url(images/gifs/copy-copy-copy.gif) 50%;">
  <hgroup>
    <h2 class="white">Антивелосипеднось</h2>
  </hgroup>
</slide>

<slide>
  <hgroup>
    <h2>Виды паттернов</h2>
  </hgroup>
  <article>
    <ul>
      <li>Порождающие</li>
      <li>Структурные</li>
      <li>Поведенческие</li>
    </ul>
  </article>
</slide>

<slide class="fill nobackground" style="background-image: url(images/gifs/fabric.gif);">
  <hgroup>
    <h2 class="white">Порождающие паттерны</h2>
  </hgroup>
</slide>

<slide>
  <hgroup>
    <h2>Порождающие паттерны</h2>
  </hgroup>
  <article>
    <ul>
      <li>Abstract Factory</li>
      <li>Builder</li>
      <li>Factory Method</li>
      <li>Prototype</li>
      <li>Singleton</li>
    </ul>
  </article>
</slide>

<!--   Abstract Factory  -->

<slide>
  <hgroup>
    <h2>Abstract Factory (aka Kit)</h2>
    <h3>Порождающие паттерны</h3>
  </hgroup>
  <article>
    <p>Предоставляет интерфейс для создания семейств взаимосвязанных или взаимозависимых объектов, не специфицируя их конкретных классов.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Abstract Factory</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var layoutFactory = {};
layoutFactory.prototype = {
  LayoutClass: ymaps.Layout,
  <b>createLayout: function (html) { 
  var template = new Template(html),
    layout = new LayoutClass(template);
    layout.options.set('name', 'Layout Factory item');
    return layout;
  }</b>
};
    </pre>
    <footer class="source">Пример использования: <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/templateLayoutFactory.xml">templateLayoutFactory</a></footer>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Abstract Factory</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Изолирует конкретные классы</li>
      <li>упрощает замену классов</li>
      <li>гарантирует сочетаемость</li>
      <li>сложность поддержки нового вида</li>
      <li>фабрики как объекты, существующие в 1 экземпляре</li>
    </ul>
  </article>
</slide> 

<!--   Builder -->

<slide>
  <hgroup>
    <h2>Builder</h2>
    <h3>Порождающие паттерны</h3>
  </hgroup>
  <article>
    <p>Отделяет конструирование сложного объекта от его представления, так что в результате одного и того же процесса конструирования могут получаться разные представления. 	</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Builder</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article class="smaller">
    <pre class="prettyprint" data-lang="javascript">
var GeoObject = function (parameters) { 
  this._type = parameters.type || 'point'; 
  this.build(); 
};

GeoObject.prototype = {
  <b>build: function () {
    var geometry;
    switch (this._type) {
      case: 'point': geometry = new ymaps.geometry.Point(data); break;
      case: 'circle': geometry = new ymaps.geometry.Circle(data); break; 
    }
    this._geometry = geometry;
  }</b>
};</pre>
    <footer class="source">Пример использования: <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/GeoObject.xml">GeoObject</a></footer>
  </article>
</slide>

<slide>
  <aside class="note">
    <section>
      <p>Напомнить о различии между build и абстрактной фабрикой: первый пошагово, второй полностью и связно</p>
    </section>
  </aside>
  <hgroup>
    <h2>Bulder</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>позволяет изменять внутреннее представление</li>
      <li>изолирует код, реализующий конструирование</li>
      <li>дает более тонкий контроль над процессом конструирования</li>
    </ul>
  </article>
</slide> 

<!-- Factory Method -->

<slide>
  <hgroup>
    <h2>Factory Method</h2>
    <h3>Порождающие паттерны</h3>
  </hgroup>
  <article>
    <p>Определяет интерфейс для создания объекта, но оставляет подклассам решение о том, какой класс инстанцировать. Позволяет делигировать инстанцирование подклассам.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Factory Method</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var geoObjectFactory = {};
geoObjectFactory.prototype = {
  <b>createGeoObject = function (parameters) {
    var type = parameters.type || "point",
        geoObj;
    switch (parameters.type) {
      case "point": geoObj = new ymaps.Point(parameters.data); break;
      case "circle": geoObj = new ymaps.Circle(parameters.data); break;
    };
    return geoObj;
  }</b>
};</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Factory Method</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var geoObjectFactory = {};
geoObjectFactory.prototype = {
  <b>createPoint: function (data) { return new ymaps.Point(data); },
  createCircle: function (data) { return new ymaps.Circle(data); },
  createPolyline: function (data) { return new ymaps.Polilyne(data); }</b>
};</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Factory Method</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Предоставляет подклассам хуки</li>
      <li>соединяет параллельные иерархии</li>
      <li>удобно объединять дробное в более цельные сущности</li>
    </ul>
  </article>
</slide> 

<!-- Prototype -->

<slide>
  <hgroup>
    <h2>Prototype</h2>
    <h3>Порождающие паттерны</h3>
  </hgroup>
  <article>
    <p>Задает виды создаваемых объектов с помощью экземпляра-прототипа и создает новые объекты путем копирования прототипа.</p>
  </article>
</slide>

<slide>
  <aside class="note">
    <section>
      <p>Рассказать о базовых классах на примере GeoObject</p>
    </section>
  </aside>
  <hgroup>
    <h2>Prototype</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article class="smaller">
    <pre class="prettyprint" data-lang="javascript">
var GeoObject = function (parameters) { };
GeoObject.prototype = {
  <b>clone: function () {
    var clone = {}, 
        keys = Object.keys(this);
        
    for (var key in keys) {
      if (this.hasOwnProperty(key)) {
        clone[key] = this[key];
      }
    }
    return clone;
  }</b>
};</pre>
  <footer class="source">Можно глянуть <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/util.bind.xml">util.bind</a> и <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/util.augment.xml">util.augment</a></footer>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Prototype</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>спецификация новых объектов</li>
      <li>уменьшение числа подклассов</li>
      <li>добавление / удаление элементов во время выполнения</li>
    </ul>
  </article>
</slide> 

<!-- Singleton -->

<slide>
  <hgroup>
    <h2>Singletone</h2>
    <h3>Порождающие паттерны</h3>
  </hgroup>
  <article>
    <p>Гарантирует, что у класса есть только один экземпляр, и предоставляет к нему глобальную точку доступа.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Singleton</h2>
    <h3>Как реализовать в JS # вариант 1</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var singleton = (function () {
  var self = this;
  var _private = function () {};
  var public = function () {};
  return {
    publicFunction: public,
    hello: function () { console.log('hello, world'); }
  };
})();</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Singleton</h2>
    <h3>Как реализовать в JS # вариант 2</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var singleton = {
  staticMethod: function () {},
  hello: function () {
    console.log('hello, world!');
  }
};</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Singleton</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Контролируемый доступ к единственному экземпляру</li>
      <li>уменьшение числа имен</li>
      <li>большая гибкость, чем у классов</li>
    </ul>
  </article>
</slide> 

<!-- / end singleton -->

<slide class="fill nobackground" style="background-image: url(images/gifs/structure.gif);">
  <hgroup>
    <h2 class="white">Структурные паттерны</h2>
  </hgroup>
</slide>

<slide>
  <hgroup>
    <h2>Структурные паттерны</h2>
  </hgroup>
  <article>
    <div class="columns-2">
      <ul>
        <li>Adapter</li>
        <li>Bridge</li>
        <li>Composite</li>
        <li>Decorator</li>
        <li>Facade</li>
        <li>Flyweight</li>
        <li>Proxy</li>
      </ul>
    </div>
  </article>
</slide>

<!-- Adapter -->
<slide>
  <hgroup>
    <h2>Adapter</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Преобразует интерфейс одного класса в интерфейс другого. Адаптер обеспечивает совместную работу классов с несовместимыми интерфейсами, которая без него была бы невозможна.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Adapter</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var TrafficJam = function () {…};
TrafficJam.prototype = {
  getLevel: function () {
    var level = new ymaps.util.Promise();
    $.ajax({
      url: 'http://url-to-traffic-provider',
      dataType: 'json',
      data: { need: 'level' }
    }).done(<b>function (json) { level.fullFill(json.level); }</b>);
    return level;
  }
}</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Adapter</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Сменные адаптеры</li>
      <li>сохранение обратной совместимости</li>
    </ul>
  </article>
</slide>

<!-- bridge -->

<slide>
  <hgroup>
    <h2>Bridge</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Отделяет абстракцию от ее реализации так, чтобы то и другое можно было изменять независимо.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Bridge</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
<b>var ILayer</b> = function () {
  this.events = new ymaps.event.Manager();
  this.options = new ymaps.options.Manager();
};
ILayer.prototype = {
  getBrightness: function () {},
  getParent: function () {}
};
<b>var Layer</b> = function () { /* constructor */ };
<b>ymaps.util.augment(ILayer, Layer, {</b>
  getBrightness: function () { return 1; }
<b>});</b>
</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Bridge</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Отделение реализации от интерфейса</li>
      <li>повышение степени расширяемости</li>
      <li>сокрытие деталей реализации от клиентов</li>
    </ul>
  </article>
</slide>

<!-- Composite -->

<slide>
  <hgroup>
    <h2>Composite</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Компонует объекты в древовидные структуры для представления иерархий часть-целое. Позволяет клиентам единообразно трактовать индивидуальные и составные части.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Composite</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var parentComponent = ymaps.option.Manager();
<b>var childComponent = ymaps.option.Manager(null, parentComponent);</b>

parentComponent.set('key', val);
<b>parentComponent.set('child', childComponent);</b>
</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Composite</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>определяет иерархии классов</li>
      <li>упрощает архитектуру клиента</li>
      <li>облегчает добавление новых видов компонентов</li>
      <li>способствует созданию общего дизайна</li>
    </ul>
  </article>
</slide>

<!-- Decorator -->

<slide>
  <hgroup>
    <h2>Decorator (aka Wrapper)</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Динамически добавляет объекту новые обязанности. Является гибкой альтернативой порождению подклассов с целью расширения функциональности.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Decorator</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
var GeoObjectWidthBlackJack = function () { 
  this.geoObj = new ymaps.GeoObject(…); 
  <b>var decorator = new Decorator(this);
  decorator.addToMap();</b>
};

var Decorator = function (parent) { this._parent = parent};
Decorator.prototype = {
  <b>addToMap: function () {
    map.geoObjects.add(this._parent.geoObj);
  }</b>
}</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Decorator</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Большая гибкость, чем у ст.наслед.</li>
      <li>позволяет избежать перегруженных функциями классов</li>
      <li>декоратор и его компонент не идентичны</li>
    </ul>
  </article>
</slide>

<!-- Facade -->

<slide>
  <hgroup>
    <h2>Facade</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Предоставляет унифицированный интерфейс вместо набора интерфейсов некоторой подсистемы. Определяет интерфейс более высокого уровня</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Facade</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
// Добавление в GeoQueryResult массива геообъектов.
var objects = [
  new ymaps.Placemark([34, 56]),
  new ymaps.Rectangle([[34, 56], [36, 57]])
];
// Обратите внимание, что в результате будет получен другой объект GeoQueryResult,
// а старый останется без изменений.
<b>var newResult = myGeoQueryResult.add(objects);</b>
</pre>
  <footer class="source">Пример в API <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/geoQuery.xml">geoQuery</a></footer>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Facade</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>Изолирует клиентов от компонентов подсистемы</li>
      <li>позволяет ослабить связность между подсистемой и клиентами</li>
      <li>фасад не препятствует прямой работе с классами</li>
    </ul>
  </article>
</slide>

<!-- Flyweight -->

<slide>
  <hgroup>
    <h2>Flyweight (приспособленец)</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Использует разделение для эффективной поддержки множества мелких объектов.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Flyweight</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
// создадим карту, на которой необходимо кластеризовать геообъекты
var map = new ymaps.Map('mapsID', {center: [56.034, 36.992], zoom: 8}),
    myGeoObjects = [];
<b>myGeoObjects[0] = new ymaps.GeoObject([56.034, 36.992]);
myGeoObjects[1] = new ymaps.GeoObject([56.021, 36.983]);</b>

// создадим кластеризатор и запретим приближать карту при клике на кластеры
var clusterer = new ymaps.Clusterer({clusterDisableClickZoom: true});
<b>clusterer.add(myGeoObjects);</b>
map.geoObjects.add(clusterer);
</pre>
  <footer class="source">Да здравствует кластеризатор <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/Clusterer.xml">Clusterer</a> + можно глянуть <a href="http://api.yandex.ru/maps/doc/jsapi/2.x/ref/reference/ILayout.xml">ILayout</a></footer>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Flyweight</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>уменьшение общего числа элементов</li>
      <li>сокращение объема памяти</li>
      <li>вычисление, а не хранение внешнего состояния</li>
    </ul>
  </article>
</slide>

<!-- Proxy -->

<slide>
  <hgroup>
    <h2>Proxy (aka Surrogate)</h2>
    <h3>Структурные паттерны</h3>
  </hgroup>
  <article>
    <p>Является суррогатом другого объекта и контролирует доступ к нему.</p>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Proxy</h2>
    <h3>Как реализовать в JS</h3>
  </hgroup>
  <article>
    <pre class="prettyprint" data-lang="javascript">
geObject.prototype = {
  <b>getLayout: function () {</b>
    <b>var promise = ymaps.util.Promise();</b>
    if (this._layout) {
      promise.fullFill(this._layout);
    } else {
      this._layout = new LayoutClass(promise); // асинхронное создание
      promise.fullFill(this._layout);
    }
    <b>return promise;
  }</b>
}</pre>
  </article>
</slide>

<slide>
  <hgroup>
    <h2>Proxy</h2>
    <h3>Особенности</h3>
  </hgroup>
  <article>
    <ul class="build">
      <li>создание объекта по требованию</li>
      <li>решает дополнительные задачи по доступу к объекту</li>
      <li>можно скрыть тот факт, что объект находится в другом адресном пространстве</li>
    </ul>
  </article>
</slide>

<!-- /end proxy -->

<slide class="fill nobackground" style="background-image: url(images/gifs/behavour.gif); background-position: 50%">
  <hgroup>
    <h2 class="white">Паттерны поведения</h2>
  </hgroup>
</slide>

<slide>
  <hgroup>
    <h2>Паттерны поведения</h2>
  </hgroup>
  <article>
    <div class="columns-2">
      <ul>
        <li>Chain of Responsibility</li>
        <li>Command</li>
        <li>Interpreter</li>
        <li>Iterator</li>
        <li>Mediator</li>
        <li>Memento</li>
        <li>Observer</li>
        <li>State</li>
        <li>Strategy</li>
        <li>Template Mathod</li>
        <li>Visitor</li>
      </ul>
    </div>
  </article>
</slide>

<!-- the end -->

<slide class="thank-you-slide segue nobackground">
  <aside class="gdbar"><img src="images/yandex_eng_logo.svg"></aside>
  <article class="flexbox vleft auto-fadein">
    <h2>Спасибо!</h2>
  </article>
  <p class="auto-fadein" data-config-contact>
    <!-- populated from slide_config.json -->
  </p>
</slide>

<slide class="logoslide nobackground">
  <article class="flexbox vcenter">
    <span><img src="images/yandex_eng_logo.svg"></span>
  </article>
</slide>

<slide class="backdrop"></slide>

</slides>
<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
